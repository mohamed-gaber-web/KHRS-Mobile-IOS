{"version":3,"sources":["./src/app/courses/my-courses/my-courses.page.ts","./src/app/courses/my-courses/my-courses.page.html","./src/app/courses/my-courses/my-courses.page.scss","./src/app/courses/my-courses/my-courses-routing.module.ts","./src/app/courses/my-courses/my-courses.module.ts"],"names":[],"mappings":"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","file":"my-courses-my-courses-module.js","sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { IonInfiniteScrollContent, NavController, Platform } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { imagesBaseUrl } from 'src/app/api.constants';\nimport { AudioElement } from 'src/app/shared/models/audioObject';\nimport { Course } from 'src/app/shared/models/course';\nimport { MyCourse } from 'src/app/shared/models/myCourse';\nimport { CourseService } from 'src/app/shared/services/courses.service';\nimport { TestService } from 'src/app/shared/services/test.service';\nimport { File } from '@ionic-native/file';\nimport { FileOpener } from '@ionic-native/file-opener/ngx';\nimport { LoadingController } from '@ionic/angular';\nimport { platform } from 'process';\nimport { Howl } from 'howler';\nimport { AppService } from 'src/app/shared/services/app.service';\n\n@Component({\n  selector: 'app-my-courses',\n  templateUrl: './my-courses.page.html',\n  styleUrls: ['./my-courses.page.scss'],\n})\nexport class MyCoursesPage implements OnInit, OnDestroy {\n  offset: number = 0;\n  totalLength: number;\n  sub: Subscription[] = [];\n  public myCourses: Array<MyCourse> = [];\n  isLoading = false;\n  pdfFile: any;\n  player: Howl = null;\n  isPlaying: boolean = false;\n  getLang = localStorage.getItem('languageId');\n  courseAudio:string;\n  constructor(\n    private route: Router,\n    private courseService: CourseService,\n    private testService: TestService,\n    private fileOpener: FileOpener,\n    private platform: Platform,\n    private loadingController: LoadingController,\n    private appService:AppService\n\n  ) {}\n\n  ngOnInit() {\n    this.appService.getVidoes('Courses', this.getLang).subscribe((response) => {\n      this.courseAudio = response['result']?.genericAttributeMediaTranslations[0]?.mediaPath;\n    })\n    this.getUserCourses();\n  }\n\n\n  getUserCourses() {\n    this.isLoading = true;\n    this.sub.push(\n      this.courseService\n        .getUserCourses('', this.offset)\n        .pipe(\n          map((response) => {\n            Object.entries(response);\n            this.isLoading = false;\n            this.totalLength = response['length'];\n            return response['result'];\n          })\n        )\n        .subscribe((res) => {\n\n          if (this.myCourses.length == 0) {\n            res.forEach((element:MyCourse) => {\n\n              if (element.course.imagePath) {\n                element.course.imagePath = `${element.course.imagePath}`;\n              }\n              if (element.course.courseTranslations[0]?.introVoicePath) {\n                element.course.courseTranslations[0].introVoicePath = `${element.course.courseTranslations[0].introVoicePath}`;\n              }\n              element.course.audioElement = new AudioElement();\n              element.course.audioElement.status = false;\n            });\n            this.myCourses = res;\n          } else {\n            res.forEach((element) => {\n              if (element.course.imagePath) {\n                element.course.imagePath = `${element.course.imagePath}`;\n              }\n              if (element.course.courseTranslations[0]?.introVoicePath) {\n                element.course.courseTranslations[0].introVoicePath = `${element.course.courseTranslations[0].introVoicePath}`;\n              }\n              element.course.audioElement = new AudioElement();\n              element.course.audioElement.status = false;\n\n              this.myCourses.push(element);\n            });\n          }\n          this.offset++;\n        })\n    );\n  }\n\n  loadData(event) {\n    if(this.myCourses.length < this.totalLength){\n      setTimeout(() => {\n        this.getUserCourses();\n        event.target.complete();\n\n        // App logic to determine if all data is loaded\n        // and disable the infinite scroll\n        if (this.myCourses.length == 1000) {\n          event.target.disabled = true;\n        }\n      }, 500);\n    }else{\n      event.target.disabled = true;\n\n    }\n\n  }\n\n  playIntroHTML(course:Course){\n    // this.nativeAudio.preloadSimple(`intro${course.id}`, `${course.courseTranslations[0].introVoicePath}`).then(onSuccess, onError);\n    // this.nativeAudio.play(`intro${course.id}`).then(onSuccess, onError);\n    if(course.audioElement.status == false){\n      //stop all\n      this.myCourses.forEach((element:MyCourse,index) => {\n        if(element.course.audioElement.audio != null){\n          element.course.audioElement.audio.pause();\n          element.course.audioElement.status = false;\n          //TODO destroy\n        }else{\n          //TODO destroy\n        }\n\n    });\n    if(course.audioElement.audio && course.audioElement.audio.paused){\n      course.audioElement.audio.play();\n    }else{\n      var audio = new Audio(`${course.courseTranslations[0].introVoicePath}`);\n      course.audioElement.audio = audio;\n      course.audioElement.audio.load();\n      course.audioElement.audio.play();\n    }\n    course.audioElement.status = true;\n\n\n    }else{\n      //stop the the live one\n      if(course.audioElement.audio != null){\n        course.audioElement.audio.pause();\n        course.audioElement.status = false;\n        //TODO destroy\n      }else{\n        //TODO destroy\n      }\n    }\n\n  }\n\n  // ** go to choose course material\n  goToChooseCourseMaterial(courseId: number, userId) {\n    this.route.navigate(['courses/tabs/choose-course-material', { courseId, userId }]);\n  }\n\n\n  downloadCertificate(courseId) {\n    this.isLoading = true;\n    this.testService.getCertificate(courseId)\n    .subscribe((response: Blob) => {\n      this.isLoading = false;\n      if(this.platform.is('mobileweb')) {\n\n        this.pdfFile = new Blob([response], {type: 'application/pdf'});\n\n        var downloadURL = window.URL.createObjectURL(response);\n        var link = document.createElement('a');\n        link.href = downloadURL;\n        link.download = \"Certificate.pdf\";\n        link.click();\n      } else if(this.platform.is('android')) {\n        File.writeFile(\n          File.externalRootDirectory + \"/Download\",\n          courseId + \"Certificate.pdf\",\n          new Blob([response]),\n          {\n            replace: true,\n          }\n        );\n        this.fileOpener.open(File.externalRootDirectory + \"/Download/\" + courseId + \"Certificate.pdf\", 'application/pdf')\n        .then(() => console.log('File is opened'))\n        .catch(e => console.log('Error opening file', e));\n      } else {\n        this.pdfFile = new Blob([response], {type: 'application/pdf'});\n\n        var downloadURL = window.URL.createObjectURL(response);\n        var link = document.createElement('a');\n        link.href = downloadURL;\n        link.download = \"Certificate.pdf\";\n        link.click();\n\n      }\n\n\n\n      // this.pdfFile = new Blob([response], {type: 'application/pdf'});\n\n      // var downloadURL = window.URL.createObjectURL(response);\n      // var link = document.createElement('a');\n      // link.href = downloadURL;\n      // link.download = \"Certificate.pdf\";\n      // link.click();\n    });\n  }\n\n  // ** Create Refresh whrn scroll down\n  doRefresh(event) {\n    this.offset=0;\n    this.myCourses=[];\n    console.log('Begin async operation');\n    this.getUserCourses();\n    event.target.complete();\n    // setTimeout(() => {\n    //   console.log('Async operation has ended');\n    //   event.target.complete();\n    // }, 2000);\n  }\n\n  startAudio(voicePath: string) {\n    if (this.player && this.isPlaying == true) {\n      this.player.stop();\n      this.isPlaying = false;\n    }else{\n      this.player = new Howl({\n        html5: true,\n        src: voicePath,\n        onplay: () => {\n\n          this.isPlaying = true;\n        },\n        onend: () => {\n          this.isPlaying = false;\n        },\n      });\n      this.player.play();\n\n    }\n\n  }\n  ngOnDestroy() {\n\n    this.sub.forEach(e => {\n      e.unsubscribe();\n    })\n  }\n  ionViewDidLeave():void{\n    if (this.player) {\n      this.player.stop();\n    }\n    this.myCourses.forEach((element) => {\n      if (element.course.audioElement) {\n        if (element.course.audioElement.status == true) {\n          element.course.audioElement.audio.pause();\n          element.course.audioElement.status = false;\n        }\n      }\n    });\n  }\n}\n","export default \"\\n<ion-content>\\n  <ion-spinner *ngIf='isLoading' color=\\\"primary\\\" name=\\\"crescent\\\"></ion-spinner>\\n\\n  <ion-grid class=\\\"img-course-intro\\\">\\n    <ion-row>\\n      <ion-col>\\n        <div class=\\\"img-intro\\\">\\n         <ion-img loading=\\\"lazy\\\" src=\\\"../../../assets/images/intro-screen-course.png\\\" alt=\\\"image-intro-course\\\"></ion-img>\\n        </div>\\n        <div class=\\\"icon-sound\\\" (click)=\\\"startAudio(courseAudio)\\\">\\n          <div class=\\\"img-volume\\\">\\n            <ion-img\\n            class=\\\"animate__animated animate__jello animate__delay-2s animate__bounce animate__repeat-2\\\" src=\\\"../../../assets/icon/Vector.png\\\">\\n          </ion-img>\\n          </div>\\n        </div>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n\\n  <ion-grid>\\n    <ion-row class=\\\"ion-text-center\\\">\\n      <!-- IOn Ref -->\\n      <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n        <ion-refresher-content\\n          pullingIcon=\\\"chevron-down-circle-outline\\\"\\n          pullingText=\\\"Pull to refresh\\\"\\n          refreshingSpinner=\\\"circles\\\"\\n          refreshingText=\\\"Refreshing...\\\">\\n        </ion-refresher-content>\\n      </ion-refresher>\\n      <!-- Ion Ref -->\\n\\n        <ion-col *ngFor=\\\"let course of myCourses\\\" size-xs=\\\"6\\\" size-sm=\\\"6\\\" size-md=\\\"6\\\">\\n\\n          <div class=\\\"my-course\\\">\\n              <ion-img class=\\\"img-all-course\\\" loading=\\\"lazy\\\"  src=\\\"{{course.course.imagePath}}\\\"></ion-img>\\n              <h3 class=\\\"ion-padding-top\\\"  color=\\\"primary\\\">\\n                {{course.course.courseTranslations[0]?.title}}\\n                <div *ngIf=\\\"course.userCourse.status == 4\\\" class=\\\"status\\\"> <b> Pending </b> </div>\\n                <div *ngIf=\\\"course.userCourse.status == 2\\\" class=\\\"status\\\"> <b> Expired </b> </div>\\n                <div *ngIf=\\\"course.userCourse.status == 3\\\" class=\\\"status\\\"> <b> Failed </b> </div>\\n                <div *ngIf=\\\"course.userCourse.status == 5\\\">\\n                  <ion-button\\n                  (click)=\\\"goToChooseCourseMaterial(course.course.id, course.userCourse.courseId)\\\">\\n                    Start\\n                  </ion-button>\\n                </div>\\n              </h3>\\n            <div>\\n\\n              <div slot=\\\"end\\\" *ngIf=\\\"course.course.courseTranslations[0]?.introVoicePath\\\">\\n                <div class=\\\"icon-sound-course\\\">\\n                    <ion-icon  class=\\\"animate__animated animate__jello animate__delay-2s animate__bounce animate__repeat-3\\\" [name]=\\\"!course.course.audioElement.status? 'play' : 'stop'\\\" (click)=\\\"playIntroHTML(course.course)\\\">\\n                    </ion-icon>\\n                  </div>\\n              </div>\\n\\n              <div *ngIf=\\\"course.userCourse.status == 1\\\">\\n                  <ion-text>Passed</ion-text>\\n              </div>\\n\\n              <div class=\\\"certi\\\" *ngIf=\\\"course.userCourse.status == 1\\\">\\n                <ion-button (click)=\\\"downloadCertificate(course.course.id)\\\"> Certificate\\n                  <ion-icon name=\\\"download-outline\\\"></ion-icon>\\n                  <ion-spinner *ngIf='isLoading' name=\\\"circles\\\"></ion-spinner> </ion-button>\\n              </div>\\n            </div>\\n          </div>\\n\\n      </ion-col>\\n\\n\\n\\n    </ion-row>\\n  </ion-grid>\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n    <ion-infinite-scroll-content\\n      loadingSpinner=\\\"bubbles\\\"\\n      loadingText=\\\"Loading more data...\\\">\\n    </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n\\n\\n</ion-content>\\n\";","export default \".ext-icon-vlume, .icon-sound .img-volume {\\n  text-align: center;\\n  margin: auto;\\n  width: 30px;\\n  height: 30px;\\n}\\n\\n.my-course {\\n  position: relative;\\n  margin: 30px 0;\\n  z-index: 0;\\n}\\n\\n.my-course ion-img {\\n  border: 2px solid var(--ion-color-primary);\\n  border-radius: 20px;\\n  max-width: 90%;\\n  height: 170px;\\n  padding: 0;\\n  margin: 0 auto;\\n  object-fit: initial;\\n  overflow: hidden;\\n}\\n\\n.my-course ion-button {\\n  --background: var(--ion-color-second-app)!important;\\n  --border-radius: 50px!important;\\n  font-size: 13px !important;\\n  font-weight: 500;\\n  width: 60%;\\n  height: 30px;\\n  text-transform: none;\\n  position: absolute;\\n  bottom: -20px;\\n  left: 0;\\n  right: 0;\\n  text-align: center;\\n  margin: auto;\\n}\\n\\n.my-course h3 {\\n  font-size: 12px;\\n  font-weight: 500;\\n  text-transform: none;\\n  background-color: #fff;\\n  padding: 5px 0 0 0;\\n  border-radius: 20px;\\n  color: #000;\\n  border: 2px solid #8AFA6F;\\n  position: absolute;\\n  bottom: -20px;\\n  width: 85%;\\n  margin: auto;\\n  height: 65px;\\n  left: 0;\\n  right: 0;\\n  line-height: 18px;\\n}\\n\\n.my-course h3 .status {\\n  color: red;\\n}\\n\\n.my-course .icon-sound-course {\\n  background-color: #A7F781;\\n  border: 3px dotted #fff;\\n  width: 40px;\\n  height: 40px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border-radius: 50%;\\n  cursor: pointer;\\n  position: absolute;\\n  top: 5px;\\n  right: 15px;\\n  z-index: 20000000;\\n  font-size: 25px;\\n}\\n\\n.img-course-intro {\\n  margin-bottom: 30px;\\n}\\n\\n.img-course-intro ion-row {\\n  justify-content: center;\\n}\\n\\n.icon-sound {\\n  background-color: #A7F781;\\n  border: 3px dotted #fff;\\n  width: 70px;\\n  height: 70px;\\n  border-radius: 50%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  position: absolute;\\n  margin: auto;\\n  inset: 0;\\n}\\n\\nion-text {\\n  font-weight: 600;\\n  color: var(--ion-color-second-app);\\n  font-size: 18px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL215LWNvdXJzZXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUFDRjs7QUFFQTtFQUNJLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLFVBQUE7QUFDSjs7QUFDRTtFQUNJLDBDQUFBO0VBQ0EsbUJBQUE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtFQUNBLFVBQUE7RUFDQSxjQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtBQUNOOztBQUVFO0VBQ0UsbURBQUE7RUFDQSwrQkFBQTtFQUNBLDBCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxVQUFBO0VBQ0EsWUFBQTtFQUNBLG9CQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7QUFBSjs7QUFHRztFQUNDLGVBQUE7RUFDQSxnQkFBQTtFQUNBLG9CQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxpQkFBQTtBQURKOztBQU1JO0VBQ0UsVUFBQTtBQUpOOztBQVFFO0VBQ0UseUJBQUE7RUFDQSx1QkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0FBTko7O0FBV0E7RUFDRSxtQkFBQTtBQVJGOztBQVVFO0VBQ0UsdUJBQUE7QUFSSjs7QUFZQTtFQUNFLHlCQUFBO0VBQ0EsdUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxRQUFBO0FBVEY7O0FBZ0JBO0VBQ0UsZ0JBQUE7RUFDQSxrQ0FBQTtFQUNBLGVBQUE7QUFkRiIsImZpbGUiOiJteS1jb3Vyc2VzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5leHQtaWNvbi12bHVtZSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luOiBhdXRvO1xuICB3aWR0aDogMzBweDtcbiAgaGVpZ2h0OiAzMHB4O1xufVxuXG4ubXktY291cnNlIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgbWFyZ2luOiAzMHB4IDA7XG4gICAgei1pbmRleDogMDtcblxuICBpb24taW1nIHtcbiAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gICAgICBtYXgtd2lkdGg6IDkwJTtcbiAgICAgIGhlaWdodDogMTcwcHg7XG4gICAgICBwYWRkaW5nOiAwO1xuICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICBvYmplY3QtZml0OiBpbml0aWFsO1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuXG4gIGlvbi1idXR0b24ge1xuICAgIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXNlY29uZC1hcHApIWltcG9ydGFudDtcbiAgICAtLWJvcmRlci1yYWRpdXM6IDUwcHghaW1wb3J0YW50O1xuICAgIGZvbnQtc2l6ZTogMTNweCAhaW1wb3J0YW50O1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgd2lkdGg6IDYwJTtcbiAgICBoZWlnaHQ6IDMwcHg7XG4gICAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJvdHRvbTogLTIwcHg7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbWFyZ2luOiBhdXRvO1xuICB9XG5cbiAgIGgzIHtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgIHBhZGRpbmc6IDVweCAwIDAgMDtcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICAgIGNvbG9yOiAjMDAwO1xuICAgIGJvcmRlcjogMnB4IHNvbGlkICM4QUZBNkY7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJvdHRvbTogLTIwcHg7XG4gICAgd2lkdGg6IDg1JTtcbiAgICBtYXJnaW46IGF1dG87XG4gICAgaGVpZ2h0OiA2NXB4O1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgbGluZS1oZWlnaHQ6IDE4cHg7XG4gICAgLy8gZGlzcGxheTogZmxleDtcbiAgICAvLyBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICAvLyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblxuICAgIC5zdGF0dXMge1xuICAgICAgY29sb3I6IHJlZDtcbiAgICB9XG4gIH1cblxuICAuaWNvbi1zb3VuZC1jb3Vyc2Uge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNBN0Y3ODE7XG4gICAgYm9yZGVyOiAzcHggZG90dGVkICNmZmY7XG4gICAgd2lkdGg6IDQwcHg7XG4gICAgaGVpZ2h0OiA0MHB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDVweDtcbiAgICByaWdodDogMTVweDtcbiAgICB6LWluZGV4OiAyMDAwMDAwMDtcbiAgICBmb250LXNpemU6IDI1cHg7XG59XG59XG5cblxuLmltZy1jb3Vyc2UtaW50cm8ge1xuICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuXG4gIGlvbi1yb3cge1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICB9XG59XG5cbi5pY29uLXNvdW5kIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0E3Rjc4MTtcbiAgYm9yZGVyOiAzcHggZG90dGVkICNmZmY7XG4gIHdpZHRoOiA3MHB4O1xuICBoZWlnaHQ6IDcwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbWFyZ2luOiBhdXRvO1xuICBpbnNldDogMDtcblxuICAuaW1nLXZvbHVtZSB7XG4gICAgQGV4dGVuZCAuZXh0LWljb24tdmx1bWVcbiAgfVxufVxuXG5pb24tdGV4dCB7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kLWFwcCk7XG4gIGZvbnQtc2l6ZTogMThweDtcbn1cblxuIl19 */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MyCoursesPage } from './my-courses.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyCoursesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MyCoursesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MyCoursesPageRoutingModule } from './my-courses-routing.module';\n\nimport { MyCoursesPage } from './my-courses.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MyCoursesPageRoutingModule\n  ],\n  declarations: [MyCoursesPage]\n})\nexport class MyCoursesPageModule {}\n"],"sourceRoot":"webpack:///"}